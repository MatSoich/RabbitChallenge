<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[['\$','\$'],['\\(','\\)']],processEscapes:true},CommonHTML: {matchFontHeight:false}});</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


主成分分析
============
# 主成分分析プロセス
- 多変量データの持つ構造できるだけ保ったまま、より少数の次元に線形変換（射影）する。結果、情報量を圧縮することができる。
  - 元データ : \\\(\boldsymbol x_i  = (x_{i1},x_{i2},......,x_{im}) \in \mathbb{R}\\\)
  - 平均(ベクトル) : \\\(\displaystyle \bar{\boldsymbol x} =  \frac{1}{n} \sum_{i=1}^{n} \boldsymbol{x_i}\\\)
  - データ行列 : \\\(\bar{\boldsymbol X} = (\boldsymbol x_1 - \bar{\boldsymbol x},\boldsymbol x_2 - \bar{\boldsymbol x},......,\boldsymbol x_n - \bar{\boldsymbol x})\\\)
  - 分散共分散行列 : \\\(\displaystyle \boldsymbol \Sigma = Var(\bar{\boldsymbol X}) = \frac{1}{n}  \bar{\boldsymbol X}^T \bar{\boldsymbol X}\\\)
  - 線形変換後のベクトル : \\\(\boldsymbol s_i  = (\boldsymbol s_{1j},\boldsymbol s_{2j},......, \boldsymbol s_{nj})^T = \underbrace{\bar{\boldsymbol  X} \boldsymbol a_j }_{n \times m,m \times 1}, \boldsymbol{a_j} \in \mathbb{R}^m\\\)
- 上記条件の元で線形変換後の分散を表すと以下。
  - \\\(\displaystyle Var(\boldsymbol s_j ) = \frac{1}{n}\boldsymbol{s_j^T s_j} + \frac{1}{n}( \bar{\boldsymbol X} \boldsymbol a_j)^T(\bar{\boldsymbol X}\boldsymbol a_j) = \frac{1}{n} \boldsymbol a_j^T \bar{\boldsymbol X}^T\bar{\boldsymbol X} \boldsymbol a_j  = \boldsymbol{a_j^T} Var(\bar{\boldsymbol X}) \boldsymbol a_j\\\)
- 情報のロスをなるべく少なくなるように圧縮
    - 分散を最大化するような軸をとる。
  - 解き方としては誓約付き最適化問題としてラグランジェ関数を解く。
  - 説いたら、射影先の分散は固有値に一致する。
  - 分散共分散行列でaの形を書き足せる。
   
- 寄与率
  - 集約した主成分のうち、各種成分が全体の情報のうち、どれだけ保持されているのかを表す。
  - 固有値の和と元のデータの分散が一致するため寄与率の計算を実施することができる。
  - 固有値の分散は元のデータに対する固有値
    - \\\( V_{total} = \displaystyle \sum_{i=1}^{m}\ \lambda_i\\\)
  - 第k主成分の分散は主成分に対応する固有値のため、第k主成分に対する寄与率\\\(C_k\\\)は以下のように書くことができる。
    - \\\(C_k = \displaystyle \frac{\lambda_k}{\sum_{i=1}^m \lambda_i}\\\)

[実践についてはリンク先に記載](codes/4.主成分分析.ipynb)
